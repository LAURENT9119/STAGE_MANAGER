(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6831],{21552:function(e,s,r){Promise.resolve().then(r.bind(r,10613))},10613:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return k}});var t=r(57437),n=r(2265),a=r(4808),l=r(68461),i=r(39501),c=r(93023),d=r(86110),o=r(29155),x=r(32553),u=r(12609),m=r(51908),h=r(66672),p=r(74530),f=r(6141),j=r(78063),v=r(31541),g=r(76637),N=r(28203),b=r(35817),y=r(99670),w=r(28999),C=r(62621);function k(){let{user:e}=(0,w.t)(),{toast:s}=(0,C.pm)(),[r,k]=(0,n.useState)([]),[Z,z]=(0,n.useState)(!0),[S,D]=(0,n.useState)(!1),[E,R]=(0,n.useState)({name:"",type:"autre",file:null});(0,n.useEffect)(()=>{_()},[]);let _=async()=>{try{k([{id:"1",name:"Convention de stage",type:"convention",status:"approved",uploadDate:"2024-01-15T00:00:00Z",size:"245 KB",url:"#"},{id:"2",name:"Rapport de stage - Janvier",type:"rapport",status:"pending",uploadDate:"2024-01-30T00:00:00Z",size:"1.2 MB"},{id:"3",name:"\xc9valuation mi-parcours",type:"evaluation",status:"approved",uploadDate:"2024-01-20T00:00:00Z",size:"156 KB",url:"#"}])}catch(e){console.error("Erreur lors du chargement des documents:",e),s({title:"Erreur",description:"Impossible de charger les documents",variant:"destructive"})}finally{z(!1)}},T=async()=>{if(!E.file||!E.name){s({title:"Erreur",description:"Veuillez remplir tous les champs et s\xe9lectionner un fichier",variant:"destructive"});return}try{let e={id:Date.now().toString(),name:E.name,type:E.type,status:"pending",uploadDate:new Date().toISOString(),size:"".concat(Math.round(E.file.size/1024)," KB")};k(s=>[e,...s]),s({title:"Document envoy\xe9",description:"Votre document a \xe9t\xe9 envoy\xe9 avec succ\xe8s et est en cours de v\xe9rification"}),D(!1),R({name:"",type:"autre",file:null})}catch(e){console.error("Erreur lors de l'upload:",e),s({title:"Erreur",description:"Impossible d'envoyer le document",variant:"destructive"})}},A=e=>{e.url?s({title:"T\xe9l\xe9chargement d\xe9marr\xe9",description:'Le document "'.concat(e.name,'" est en cours de t\xe9l\xe9chargement')}):s({title:"Document non disponible",description:"Ce document n'est pas encore disponible au t\xe9l\xe9chargement",variant:"destructive"})},O=e=>{s({title:"G\xe9n\xe9ration en cours",description:"La g\xe9n\xe9ration du document ".concat(e," a \xe9t\xe9 demand\xe9e. Vous recevrez une notification quand il sera pr\xeat.")})},F=e=>{switch(e){case"approved":return(0,t.jsxs)(o.C,{variant:"default",className:"bg-green-100 text-green-800",children:[(0,t.jsx)(p.Z,{className:"w-3 h-3 mr-1"}),"Approuv\xe9"]});case"pending":return(0,t.jsxs)(o.C,{variant:"outline",children:[(0,t.jsx)(f.Z,{className:"w-3 h-3 mr-1"}),"En attente"]});case"rejected":return(0,t.jsxs)(o.C,{variant:"destructive",children:[(0,t.jsx)(j.Z,{className:"w-3 h-3 mr-1"}),"Rejet\xe9"]});default:return(0,t.jsx)(o.C,{variant:"outline",children:e})}},M=e=>{switch(e){case"convention":return"Convention";case"attestation":return"Attestation";case"rapport":return"Rapport";case"evaluation":return"\xc9valuation";case"autre":return"Autre";default:return e}};return Z?(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsx)("div",{className:"container flex h-16 items-center",children:(0,t.jsx)(a.MainNav,{role:"intern"})})}),(0,t.jsxs)("div",{className:"container flex-1 items-start md:grid md:grid-cols-[220px_1fr] md:gap-6 lg:grid-cols-[240px_1fr] lg:gap-10",children:[(0,t.jsx)("aside",{className:"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block border-r",children:(0,t.jsx)(l.T,{role:"intern"})}),(0,t.jsx)("main",{className:"flex w-full flex-col overflow-hidden py-6",children:(0,t.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),(0,t.jsx)("p",{className:"mt-4 text-muted-foreground",children:"Chargement des documents..."})]})})})]}),(0,t.jsx)(i.n,{})]}):(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,t.jsx)("div",{className:"container flex h-16 items-center",children:(0,t.jsx)(a.MainNav,{role:"intern"})})}),(0,t.jsxs)("div",{className:"container flex-1 items-start md:grid md:grid-cols-[220px_1fr] md:gap-6 lg:grid-cols-[240px_1fr] lg:gap-10",children:[(0,t.jsx)("aside",{className:"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block border-r",children:(0,t.jsx)(l.T,{role:"intern"})}),(0,t.jsx)("main",{className:"flex w-full flex-col overflow-hidden py-6",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h2",{className:"text-2xl font-bold tracking-tight",children:"Mes Documents"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["G\xe9rez vos documents de stage (",r.length," documents)"]})]}),(0,t.jsxs)(u.Vq,{open:S,onOpenChange:D,children:[(0,t.jsx)(u.hg,{asChild:!0,children:(0,t.jsxs)(c.z,{children:[(0,t.jsx)(v.Z,{className:"mr-2 h-4 w-4"}),"Envoyer un document"]})}),(0,t.jsxs)(u.cZ,{children:[(0,t.jsx)(u.fK,{children:(0,t.jsx)(u.$N,{children:"Envoyer un nouveau document"})}),(0,t.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(h._,{htmlFor:"name",className:"text-right",children:"Nom du document"}),(0,t.jsx)(m.I,{id:"name",value:E.name,onChange:e=>R({...E,name:e.target.value}),className:"col-span-3",placeholder:"Ex: Rapport de stage - Janvier"})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(h._,{htmlFor:"type",className:"text-right",children:"Type"}),(0,t.jsxs)("select",{id:"type",value:E.type,onChange:e=>R({...E,type:e.target.value}),className:"col-span-3 flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background",children:[(0,t.jsx)("option",{value:"rapport",children:"Rapport"}),(0,t.jsx)("option",{value:"evaluation",children:"\xc9valuation"}),(0,t.jsx)("option",{value:"autre",children:"Autre"})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-4 items-center gap-4",children:[(0,t.jsx)(h._,{htmlFor:"file",className:"text-right",children:"Fichier"}),(0,t.jsx)(m.I,{id:"file",type:"file",onChange:e=>{var s;return R({...E,file:(null===(s=e.target.files)||void 0===s?void 0:s[0])||null})},className:"col-span-3",accept:".pdf,.doc,.docx,.txt"})]})]}),(0,t.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,t.jsx)(c.z,{variant:"outline",onClick:()=>D(!1),children:"Annuler"}),(0,t.jsx)(c.z,{onClick:T,children:"Envoyer"})]})]})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-3",children:[(0,t.jsxs)(d.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>O("attestation"),children:[(0,t.jsx)(d.Ol,{className:"flex flex-row items-center space-y-0 pb-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-blue-600"}),(0,t.jsx)(d.ll,{className:"text-base",children:"Demander une attestation"})]})}),(0,t.jsx)(d.aY,{children:(0,t.jsx)(d.SZ,{children:"G\xe9n\xe9rer une attestation de stage officielle"})})]}),(0,t.jsxs)(d.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>O("convention"),children:[(0,t.jsx)(d.Ol,{className:"flex flex-row items-center space-y-0 pb-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-green-600"}),(0,t.jsx)(d.ll,{className:"text-base",children:"Convention de stage"})]})}),(0,t.jsx)(d.aY,{children:(0,t.jsx)(d.SZ,{children:"T\xe9l\xe9charger votre convention de stage sign\xe9e"})})]}),(0,t.jsxs)(d.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>O("evaluation"),children:[(0,t.jsx)(d.Ol,{className:"flex flex-row items-center space-y-0 pb-2",children:(0,t.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,t.jsx)(g.Z,{className:"h-5 w-5 text-purple-600"}),(0,t.jsx)(d.ll,{className:"text-base",children:"Fiche d'\xe9valuation"})]})}),(0,t.jsx)(d.aY,{children:(0,t.jsx)(d.SZ,{children:"Acc\xe9der \xe0 votre fiche d'\xe9valuation"})})]})]}),(0,t.jsxs)(d.Zb,{children:[(0,t.jsxs)(d.Ol,{children:[(0,t.jsx)(d.ll,{children:"Mes documents"}),(0,t.jsx)(d.SZ,{children:"Liste de tous vos documents de stage"})]}),(0,t.jsx)(d.aY,{children:(0,t.jsxs)(x.iA,{children:[(0,t.jsx)(x.xD,{children:(0,t.jsxs)(x.SC,{children:[(0,t.jsx)(x.ss,{children:"Document"}),(0,t.jsx)(x.ss,{children:"Type"}),(0,t.jsx)(x.ss,{children:"Statut"}),(0,t.jsx)(x.ss,{children:"Date d'envoi"}),(0,t.jsx)(x.ss,{children:"Taille"}),(0,t.jsx)(x.ss,{children:"Actions"})]})}),(0,t.jsx)(x.RM,{children:0===r.length?(0,t.jsx)(x.SC,{children:(0,t.jsx)(x.pj,{colSpan:6,className:"text-center py-8",children:"Aucun document enregistr\xe9"})}):r.map(e=>(0,t.jsxs)(x.SC,{children:[(0,t.jsx)(x.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(g.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:e.name})]})}),(0,t.jsx)(x.pj,{children:M(e.type)}),(0,t.jsx)(x.pj,{children:F(e.status)}),(0,t.jsx)(x.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(N.Z,{className:"h-3 w-3 text-muted-foreground"}),new Date(e.uploadDate).toLocaleDateString("fr-FR")]})}),(0,t.jsx)(x.pj,{children:e.size}),(0,t.jsx)(x.pj,{children:(0,t.jsxs)("div",{className:"flex gap-2",children:[e.url&&(0,t.jsxs)(c.z,{variant:"outline",size:"sm",onClick:()=>A(e),children:[(0,t.jsx)(b.Z,{className:"h-3 w-3 mr-1"}),"T\xe9l\xe9charger"]}),(0,t.jsxs)(c.z,{variant:"outline",size:"sm",children:[(0,t.jsx)(y.Z,{className:"h-3 w-3 mr-1"}),"Voir"]})]})})]},e.id))})]})})]})]})})]}),(0,t.jsx)(i.n,{})]})}},29155:function(e,s,r){"use strict";r.d(s,{C:function(){return i}});var t=r(57437);r(2265);var n=r(39213),a=r(39311);let l=(0,n.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:s,variant:r,...n}=e;return(0,t.jsx)("div",{className:(0,a.cn)(l({variant:r}),s),...n})}},86110:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return l},aY:function(){return o},ll:function(){return c}});var t=r(57437),n=r(2265),a=r(39311);let l=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",r),...n})});l.displayName="Card";let i=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",r),...n})});i.displayName="CardHeader";let c=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("h3",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",r),...n})});c.displayName="CardTitle";let d=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("p",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",r),...n})});d.displayName="CardDescription";let o=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",r),...n})});o.displayName="CardContent";let x=n.forwardRef((e,s)=>{let{className:r,...n}=e;return(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",r),...n})});x.displayName="CardFooter"}},function(e){e.O(0,[5781,3127,4984,8251,1357,4410,6454,4808,9461,2971,7864,1744],function(){return e(e.s=21552)}),_N_E=e.O()}]);