(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9598],{1295:function(e,r,s){"use strict";s.d(r,{Z:function(){return l}});var t=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t.Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},12741:function(e,r,s){"use strict";s.d(r,{Z:function(){return l}});var t=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t.Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},49036:function(e,r,s){"use strict";s.d(r,{Z:function(){return l}});var t=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t.Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},53589:function(e,r,s){"use strict";s.d(r,{Z:function(){return l}});var t=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let l=(0,t.Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},73393:function(e,r,s){Promise.resolve().then(s.bind(s,60642))},60642:function(e,r,s){"use strict";s.r(r),s.d(r,{default:function(){return C}});var t=s(57437),l=s(2265),a=s(4808),n=s(68461),i=s(39501),c=s(93023),d=s(51908),o=s(32553),x=s(58094),u=s(29155),m=s(86110),h=s(37309),f=s(74527),j=s(49036),p=s(41827),v=s(12741),g=s(1295),N=s(65531);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let y=(0,N.Z)("Ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]);var w=s(53589);/**
 * @license lucide-react v0.446.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let b=(0,N.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);var _=s(56434),Z=s(62621);function C(){let[e,r]=(0,l.useState)([]),[s,N]=(0,l.useState)(!0),[C,k]=(0,l.useState)(""),[S,T]=(0,l.useState)("all"),{toast:R}=(0,Z.pm)();(0,l.useEffect)(()=>{M()},[]);let M=async()=>{N(!0);try{r([{id:"1",email:"admin@example.com",full_name:"Admin System",role:"admin",phone:"+33 1 23 45 67 89",created_at:"2024-01-01T00:00:00Z",last_sign_in_at:"2024-01-15T10:30:00Z"},{id:"2",email:"hr@example.com",full_name:"Marie Dubois",role:"hr",phone:"+33 1 23 45 67 90",created_at:"2024-01-05T00:00:00Z",last_sign_in_at:"2024-01-15T09:15:00Z"},{id:"3",email:"tutor@example.com",full_name:"Jean Martin",role:"tutor",phone:"+33 1 23 45 67 91",created_at:"2024-01-10T00:00:00Z",last_sign_in_at:"2024-01-14T16:45:00Z"},{id:"4",email:"intern@example.com",full_name:"Sophie Lambert",role:"intern",phone:"+33 1 23 45 67 92",created_at:"2024-01-12T00:00:00Z",last_sign_in_at:"2024-01-15T08:20:00Z"}])}catch(e){console.error("Erreur lors du chargement des utilisateurs:",e),R({title:"Erreur",description:"Impossible de charger les utilisateurs",variant:"destructive"})}finally{N(!1)}},A=e.filter(e=>{let r=e.full_name.toLowerCase().includes(C.toLowerCase())||e.email.toLowerCase().includes(C.toLowerCase()),s="all"===S||e.role===S;return r&&s}),L=e=>(0,t.jsx)(u.C,{variant:{admin:"destructive",hr:"default",tutor:"secondary",intern:"outline",finance:"secondary"}[e],children:{admin:"Admin",hr:"RH",tutor:"Tuteur",intern:"Stagiaire",finance:"Finance"}[e]}),E=e=>e.split(" ").map(e=>e[0]).join("").toUpperCase().slice(0,2),z=e=>new Date(e).toLocaleDateString("fr-FR",{year:"numeric",month:"short",day:"numeric"});return(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[(0,t.jsx)(a.MainNav,{}),(0,t.jsxs)("div",{className:"container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10",children:[(0,t.jsx)("aside",{className:"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block",children:(0,t.jsx)(n.T,{})}),(0,t.jsx)("main",{className:"relative py-6 lg:gap-10 lg:py-8",children:(0,t.jsx)("div",{className:"mx-auto w-full min-w-0",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Gestion des Utilisateurs"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"G\xe9rez les comptes utilisateurs et leurs permissions"})]}),(0,t.jsxs)(c.z,{children:[(0,t.jsx)(f.Z,{className:"h-4 w-4 mr-2"}),"Nouvel Utilisateur"]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,t.jsxs)(m.Zb,{children:[(0,t.jsxs)(m.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(m.ll,{className:"text-sm font-medium",children:"Total Utilisateurs"}),(0,t.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(m.aY,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.length})})]}),(0,t.jsxs)(m.Zb,{children:[(0,t.jsxs)(m.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(m.ll,{className:"text-sm font-medium",children:"Administrateurs"}),(0,t.jsx)(j.Z,{className:"h-4 w-4 text-destructive"})]}),(0,t.jsx)(m.aY,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.filter(e=>"admin"===e.role).length})})]}),(0,t.jsxs)(m.Zb,{children:[(0,t.jsxs)(m.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(m.ll,{className:"text-sm font-medium",children:"Stagiaires"}),(0,t.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,t.jsx)(m.aY,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.filter(e=>"intern"===e.role).length})})]}),(0,t.jsxs)(m.Zb,{children:[(0,t.jsxs)(m.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,t.jsx)(m.ll,{className:"text-sm font-medium",children:"Tuteurs"}),(0,t.jsx)(j.Z,{className:"h-4 w-4 text-secondary"})]}),(0,t.jsx)(m.aY,{children:(0,t.jsx)("div",{className:"text-2xl font-bold",children:e.filter(e=>"tutor"===e.role).length})})]})]}),(0,t.jsxs)(m.Zb,{children:[(0,t.jsx)(m.Ol,{children:(0,t.jsx)(m.ll,{children:"Filtres"})}),(0,t.jsx)(m.aY,{children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4",children:[(0,t.jsx)("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(p.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),(0,t.jsx)(d.I,{placeholder:"Rechercher par nom ou email...",value:C,onChange:e=>k(e.target.value),className:"pl-8"})]})}),(0,t.jsxs)(x.Ph,{value:S,onValueChange:T,children:[(0,t.jsx)(x.i4,{className:"w-[180px]",children:(0,t.jsx)(x.ki,{placeholder:"Filtrer par r\xf4le"})}),(0,t.jsxs)(x.Bw,{children:[(0,t.jsx)(x.Ql,{value:"all",children:"Tous les r\xf4les"}),(0,t.jsx)(x.Ql,{value:"admin",children:"Administrateur"}),(0,t.jsx)(x.Ql,{value:"hr",children:"RH"}),(0,t.jsx)(x.Ql,{value:"tutor",children:"Tuteur"}),(0,t.jsx)(x.Ql,{value:"intern",children:"Stagiaire"}),(0,t.jsx)(x.Ql,{value:"finance",children:"Finance"})]})]})]})})]}),(0,t.jsxs)(m.Zb,{children:[(0,t.jsxs)(m.Ol,{children:[(0,t.jsx)(m.ll,{children:"Liste des Utilisateurs"}),(0,t.jsxs)(m.SZ,{children:[A.length," utilisateur(s) trouv\xe9(s)"]})]}),(0,t.jsx)(m.aY,{children:(0,t.jsxs)(o.iA,{children:[(0,t.jsx)(o.xD,{children:(0,t.jsxs)(o.SC,{children:[(0,t.jsx)(o.ss,{children:"Utilisateur"}),(0,t.jsx)(o.ss,{children:"R\xf4le"}),(0,t.jsx)(o.ss,{children:"Contact"}),(0,t.jsx)(o.ss,{children:"Cr\xe9\xe9 le"}),(0,t.jsx)(o.ss,{children:"Derni\xe8re connexion"}),(0,t.jsx)(o.ss,{children:"Actions"})]})}),(0,t.jsx)(o.RM,{children:A.map(e=>(0,t.jsxs)(o.SC,{children:[(0,t.jsx)(o.pj,{children:(0,t.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,t.jsxs)(h.qE,{children:[(0,t.jsx)(h.F$,{src:e.avatar_url}),(0,t.jsx)(h.Q5,{children:E(e.full_name)})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("div",{className:"font-medium",children:e.full_name}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email})]})]})}),(0,t.jsx)(o.pj,{children:L(e.role)}),(0,t.jsx)(o.pj,{children:(0,t.jsxs)("div",{className:"space-y-1",children:[e.phone&&(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(v.Z,{className:"h-3 w-3 mr-1"}),e.phone]}),(0,t.jsxs)("div",{className:"flex items-center text-sm",children:[(0,t.jsx)(g.Z,{className:"h-3 w-3 mr-1"}),e.email]})]})}),(0,t.jsx)(o.pj,{children:z(e.created_at)}),(0,t.jsx)(o.pj,{children:e.last_sign_in_at?z(e.last_sign_in_at):"Jamais"}),(0,t.jsx)(o.pj,{children:(0,t.jsxs)(_.h_,{children:[(0,t.jsx)(_.$F,{asChild:!0,children:(0,t.jsx)(c.z,{variant:"ghost",size:"sm",children:(0,t.jsx)(y,{className:"h-4 w-4"})})}),(0,t.jsxs)(_.AW,{align:"end",children:[(0,t.jsxs)(_.Xi,{children:[(0,t.jsx)(w.Z,{className:"h-4 w-4 mr-2"}),"Modifier"]}),(0,t.jsxs)(_.Xi,{className:"text-destructive",children:[(0,t.jsx)(b,{className:"h-4 w-4 mr-2"}),"Supprimer"]})]})]})})]},e.id))})]})})]})]})})})]}),(0,t.jsx)(i.n,{})]})}},29155:function(e,r,s){"use strict";s.d(r,{C:function(){return i}});var t=s(57437);s(2265);var l=s(39213),a=s(39311);let n=(0,l.j)("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function i(e){let{className:r,variant:s,...l}=e;return(0,t.jsx)("div",{className:(0,a.cn)(n({variant:s}),r),...l})}},86110:function(e,r,s){"use strict";s.d(r,{Ol:function(){return i},SZ:function(){return d},Zb:function(){return n},aY:function(){return o},ll:function(){return c}});var t=s(57437),l=s(2265),a=s(39311);let n=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("rounded-lg border bg-card text-card-foreground shadow-sm",s),...l})});n.displayName="Card";let i=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",s),...l})});i.displayName="CardHeader";let c=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("h3",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",s),...l})});c.displayName="CardTitle";let d=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("p",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",s),...l})});d.displayName="CardDescription";let o=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",s),...l})});o.displayName="CardContent";let x=l.forwardRef((e,r)=>{let{className:s,...l}=e;return(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",s),...l})});x.displayName="CardFooter"},26694:function(e,r,s){"use strict";s.d(r,{Ee:function(){return N},NY:function(){return y},fC:function(){return g}});var t=s(2265),l=s(56989),a=s(16459),n=s(51030),i=s(9381),c=s(57437),d="Avatar",[o,x]=(0,l.b)(d),[u,m]=o(d),h=t.forwardRef((e,r)=>{let{__scopeAvatar:s,...l}=e,[a,n]=t.useState("idle");return(0,c.jsx)(u,{scope:s,imageLoadingStatus:a,onImageLoadingStatusChange:n,children:(0,c.jsx)(i.WV.span,{...l,ref:r})})});h.displayName=d;var f="AvatarImage",j=t.forwardRef((e,r)=>{let{__scopeAvatar:s,src:l,onLoadingStatusChange:d=()=>{},...o}=e,x=m(f,s),u=function(e,r){let[s,l]=t.useState("idle");return(0,n.b)(()=>{if(!e){l("error");return}let s=!0,t=new window.Image,a=e=>()=>{s&&l(e)};return l("loading"),t.onload=a("loaded"),t.onerror=a("error"),t.src=e,r&&(t.referrerPolicy=r),()=>{s=!1}},[e,r]),s}(l,o.referrerPolicy),h=(0,a.W)(e=>{d(e),x.onImageLoadingStatusChange(e)});return(0,n.b)(()=>{"idle"!==u&&h(u)},[u,h]),"loaded"===u?(0,c.jsx)(i.WV.img,{...o,ref:r,src:l}):null});j.displayName=f;var p="AvatarFallback",v=t.forwardRef((e,r)=>{let{__scopeAvatar:s,delayMs:l,...a}=e,n=m(p,s),[d,o]=t.useState(void 0===l);return t.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>o(!0),l);return()=>window.clearTimeout(e)}},[l]),d&&"loaded"!==n.imageLoadingStatus?(0,c.jsx)(i.WV.span,{...a,ref:r}):null});v.displayName=p;var g=h,N=j,y=v}},function(e){e.O(0,[5781,3127,4984,8251,1357,2440,4808,1619,2971,7864,1744],function(){return e(e.s=73393)}),_N_E=e.O()}]);