"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9461],{68461:function(e,r,t){t.d(r,{T:function(){return x}});var a=t(57437),s=t(61396),n=t.n(s),o=t(24033),l=t(39311),i=t(25119),d=t(87431),c=t(76637),u=t(25750),f=t(33344),m=t(69057),h=t(90998),g=t(29409);function x(e){let{role:r}=e,t=(0,o.usePathname)(),s={intern:[{href:"/dashboard/intern",label:"Tableau de bord",icon:(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/intern/requests",label:"Mes demandes",icon:(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/intern/documents",label:"Mes documents",icon:(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/intern/profile",label:"Mon profil",icon:(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"})}],tutor:[{href:"/dashboard/tutor",label:"Tableau de bord",icon:(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/tutor/interns",label:"Mes stagiaires",icon:(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/tutor/requests",label:"Demandes",icon:(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/tutor/profile",label:"Mon profil",icon:(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"})}],hr:[{href:"/dashboard/hr",label:"Tableau de bord",icon:(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/hr/interns",label:"Stagiaires",icon:(0,a.jsx)(f.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/hr/requests",label:"Demandes",icon:(0,a.jsx)(d.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/hr/documents",label:"Documents",icon:(0,a.jsx)(c.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/hr/reports",label:"Rapports",icon:(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"})}],finance:[{href:"/dashboard/finance",label:"Tableau de bord",icon:(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/finance/payments",label:"Gratifications",icon:(0,a.jsx)(m.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/finance/reports",label:"Rapports",icon:(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"})}],admin:[{href:"/dashboard/admin",label:"Tableau de bord",icon:(0,a.jsx)(i.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/admin/users",label:"Utilisateurs",icon:(0,a.jsx)(u.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/admin/settings",label:"Param\xe8tres",icon:(0,a.jsx)(g.Z,{className:"h-4 w-4 mr-2"})},{href:"/dashboard/admin/logs",label:"Journaux",icon:(0,a.jsx)(h.Z,{className:"h-4 w-4 mr-2"})}]},x=s[r]||[];return(0,a.jsxs)("nav",{className:"grid gap-2 p-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2 px-2 mb-4",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),(0,a.jsx)("span",{className:"text-sm font-medium",children:(0,l.O2)(r)})]}),x.map(e=>(0,a.jsxs)(n(),{href:e.href,className:(0,l.cn)("flex items-center gap-2 rounded-md px-3 py-2 text-sm font-medium hover:bg-accent hover:text-accent-foreground transition-colors",t===e.href||e.href!=="/dashboard/".concat(r)&&t.startsWith(e.href)?"bg-accent text-accent-foreground":"transparent"),children:[e.icon,e.label]},e.href))]})}},39501:function(e,r,t){t.d(r,{n:function(){return l}});var a=t(57437),s=t(61396),n=t.n(s),o=t(33344);function l(){return(0,a.jsx)("footer",{className:"w-full border-t py-6",children:(0,a.jsxs)("div",{className:"container flex flex-col items-center justify-between gap-4 md:flex-row",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5"}),(0,a.jsx)("p",{className:"text-sm leading-loose text-muted-foreground",children:"\xa9 2025 Stage+ | Tous droits r\xe9serv\xe9s"})]}),(0,a.jsxs)("nav",{className:"flex gap-4",children:[(0,a.jsx)(n(),{href:"/terms",className:"text-sm leading-loose text-muted-foreground hover:text-foreground",children:"Conditions d'utilisation"}),(0,a.jsx)(n(),{href:"/privacy",className:"text-sm leading-loose text-muted-foreground hover:text-foreground",children:"Politique de confidentialit\xe9"}),(0,a.jsx)(n(),{href:"/contact",className:"text-sm leading-loose text-muted-foreground hover:text-foreground",children:"Contact"})]})]})})}},12609:function(e,r,t){t.d(r,{$N:function(){return h},Be:function(){return g},Vq:function(){return i},cZ:function(){return f},fK:function(){return m},hg:function(){return d}});var a=t(57437),s=t(2265),n=t(28712),o=t(82549),l=t(39311);let i=n.fC,d=n.xz,c=n.h_;n.x8;let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.aV,{ref:r,className:(0,l.cn)("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s})});u.displayName=n.aV.displayName;let f=s.forwardRef((e,r)=>{let{className:t,children:s,...i}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(n.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...i,children:[s,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(o.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});f.displayName=n.VY.displayName;let m=e=>{let{className:r,...t}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",r),...t})};m.displayName="DialogHeader";let h=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.Dx,{ref:r,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",t),...s})});h.displayName=n.Dx.displayName;let g=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.dk,{ref:r,className:(0,l.cn)("text-sm text-muted-foreground",t),...s})});g.displayName=n.dk.displayName},51908:function(e,r,t){t.d(r,{I:function(){return o}});var a=t(57437),s=t(2265),n=t(39311);let o=s.forwardRef((e,r)=>{let{className:t,type:s,...o}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...o})});o.displayName="Input"},66672:function(e,r,t){t.d(r,{_:function(){return d}});var a=t(57437),s=t(2265),n=t(36743),o=t(39213),l=t(39311);let i=(0,o.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)(n.f,{ref:r,className:(0,l.cn)(i(),t),...s})});d.displayName=n.f.displayName},32553:function(e,r,t){t.d(r,{RM:function(){return i},SC:function(){return c},iA:function(){return o},pj:function(){return f},ss:function(){return u},xD:function(){return l}});var a=t(57437),s=t(2265),n=t(39311);let o=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:r,className:(0,n.cn)("w-full caption-bottom text-sm",t),...s})})});o.displayName="Table";let l=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("thead",{ref:r,className:(0,n.cn)("[&_tr]:border-b",t),...s})});l.displayName="TableHeader";let i=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tbody",{ref:r,className:(0,n.cn)("[&_tr:last-child]:border-0",t),...s})});i.displayName="TableBody";let d=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tfoot",{ref:r,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s})});d.displayName="TableFooter";let c=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("tr",{ref:r,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s})});c.displayName="TableRow";let u=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("th",{ref:r,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...s})});u.displayName="TableHead";let f=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("td",{ref:r,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...s})});f.displayName="TableCell";let m=s.forwardRef((e,r)=>{let{className:t,...s}=e;return(0,a.jsx)("caption",{ref:r,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",t),...s})});m.displayName="TableCaption"},62621:function(e,r,t){t.d(r,{pm:function(){return f}});var a=t(2265);let s=0,n=new Map,o=e=>{if(n.has(e))return;let r=setTimeout(()=>{n.delete(e),c({type:"REMOVE_TOAST",toastId:e})},5e3);n.set(e,r)},l=(e,r)=>{switch(r.type){case"ADD_TOAST":return{...e,toasts:[r.toast,...e.toasts].slice(0,1)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(e=>e.id===r.toast.id?{...e,...r.toast}:e)};case"DISMISS_TOAST":{let{toastId:t}=r;return t?o(t):e.toasts.forEach(e=>{o(e.id)}),{...e,toasts:e.toasts.map(e=>e.id===t||void 0===t?{...e,open:!1}:e)}}case"REMOVE_TOAST":if(void 0===r.toastId)return{...e,toasts:[]};return{...e,toasts:e.toasts.filter(e=>e.id!==r.toastId)}}},i=[],d={toasts:[]};function c(e){d=l(d,e),i.forEach(e=>{e(d)})}function u(e){let{...r}=e,t=(s=(s+1)%Number.MAX_SAFE_INTEGER).toString(),a=()=>c({type:"DISMISS_TOAST",toastId:t});return c({type:"ADD_TOAST",toast:{...r,id:t,open:!0,onOpenChange:e=>{e||a()}}}),{id:t,dismiss:a,update:e=>c({type:"UPDATE_TOAST",toast:{...e,id:t}})}}function f(){let[e,r]=a.useState(d);return a.useEffect(()=>(i.push(r),()=>{let e=i.indexOf(r);e>-1&&i.splice(e,1)}),[e]),{...e,toast:u,dismiss:e=>c({type:"DISMISS_TOAST",toastId:e})}}},23848:function(e,r,t){t.d(r,{e:function(){return n}});var a=t(84756);let s=(0,a.eI)("https://blqzunqikyrwzelsbbzh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJscXp1bnFpa3lyd3plbHNiYnpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyOTMzMTcsImV4cCI6MjA2Mzg2OTMxN30.QMttUMb_h6zAgFgb2yLD6jMRn9xlhDRsCuP5EPrGYgk");class n{static async signIn(e,r){try{let{data:t,error:a}=await s.auth.signInWithPassword({email:e,password:r});if(a)throw a;return t}catch(e){throw console.error("Sign in error:",e),e}}static async signUp(e,r,t){try{let{data:a,error:n}=await s.auth.signUp({email:e,password:r,options:{data:t}});if(n)throw n;return a}catch(e){throw console.error("Sign up error:",e),e}}static async signOut(){try{let{error:e}=await s.auth.signOut();if(e)throw e}catch(e){throw console.error("Sign out error:",e),e}}static async getCurrentUser(){try{let{data:{user:e}}=await s.auth.getUser();if(!e)return null;let{data:r,error:t}=await s.from("users").select("*").eq("id",e.id).single();if(t)throw t;return{user:e,userData:r}}catch(e){return console.error("Get current user error:",e),null}}static async updateProfile(e,r){try{let{data:t,error:a}=await s.from("users").update(r).eq("id",e).select().single();if(a)throw a;return t}catch(e){throw console.error("Update profile error:",e),e}}static async getSession(){try{let{data:{session:e}}=await s.auth.getSession();return e}catch(e){return console.error("Get session error:",e),null}}static async refreshUser(e){try{let{data:r,error:t}=await s.from("users").select("*").eq("id",e).single();if(t)throw t;return r}catch(e){return console.error("Refresh user error:",e),null}}}},19658:function(e,r,t){t.d(r,{oU:function(){return l},MJ:function(){return i},OQ:function(){return o}});var a=t(54410);t(23848);let s="https://blqzunqikyrwzelsbbzh.supabase.co",n="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJscXp1bnFpa3lyd3plbHNiYnpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyOTMzMTcsImV4cCI6MjA2Mzg2OTMxN30.QMttUMb_h6zAgFgb2yLD6jMRn9xlhDRsCuP5EPrGYgk";if(!s||!n)throw Error("Missing Supabase environment variables");let o=(0,a.createBrowserClient)(s,n),l={async getAll(){try{let{data:e,error:r}=await o.from("interns").select("\n          *,\n          user:users(*),\n          tutor:users!interns_tutor_id_fkey(*)\n        ");return{data:e,error:r}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des stagiaires:",e),{data:null,error:{message:"Erreur de connexion"}}}},async getByUser(e){try{let{data:r,error:t}=await o.from("interns").select("\n          *,\n          user:users(*),\n          tutor:users!interns_tutor_id_fkey(*)\n        ").eq("user_id",e).single();return{data:r,error:t}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration du stagiaire:",e),{data:null,error:{message:"Erreur de connexion"}}}},async create(e){try{let{data:r,error:t}=await o.from("interns").insert(e).select();return{data:r,error:t}}catch(e){return console.error("Erreur lors de la cr\xe9ation du stagiaire:",e),{data:null,error:{message:"Erreur de cr\xe9ation"}}}}},i={async getAll(){try{let{data:e,error:r}=await o.from("requests").select("\n          *,\n          intern:interns(\n            *,\n            user:users(*)\n          )\n        ").order("created_at",{ascending:!1});return{data:e,error:r}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",e),{data:null,error:{message:"Erreur de connexion"}}}},async getByIntern(e){try{let{data:r,error:t}=await o.from("requests").select("*").eq("intern_id",e).order("created_at",{ascending:!1});return{data:r,error:t}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",e),{data:null,error:{message:"Erreur de connexion"}}}},async create(e){try{let{data:r,error:t}=await o.from("requests").insert(e).select();return{data:r,error:t}}catch(e){return console.error("Erreur lors de la cr\xe9ation de la demande:",e),{data:null,error:{message:"Erreur de cr\xe9ation"}}}}}},28999:function(e,r,t){t.d(r,{t:function(){return l}});var a=t(59115),s=t(74810),n=t(23848),o=t(19658);let l=(0,a.U)()((0,s.tJ)((e,r)=>({user:null,loading:!1,error:null,signIn:async(r,t)=>{e({loading:!0,error:null});try{let a=await n.e.signIn(r,t);if(null==a?void 0:a.user){let{data:r}=await o.OQ.from("users").select("*").eq("id",a.user.id).single();if(r)return e({user:r,loading:!1}),!0}return e({error:"\xc9chec de la connexion",loading:!1}),!1}catch(r){return e({error:r.message||"Erreur de connexion",loading:!1}),!1}},signOut:async()=>{e({loading:!0});try{await n.e.signOut(),e({user:null,loading:!1,error:null})}catch(r){e({error:r.message||"Erreur de d\xe9connexion",loading:!1})}},signUp:async(r,t,a,s)=>{e({loading:!0,error:null});try{let l=await n.e.signUp(r,t,{full_name:a,role:s});if(null==l?void 0:l.user){let{data:r}=await o.OQ.from("users").insert({id:l.user.id,email:l.user.email,full_name:a,role:s}).select().single();if(r)return e({user:r,loading:!1}),!0}return e({error:"\xc9chec de l'inscription",loading:!1}),!1}catch(r){return e({error:r.message||"Erreur d'inscription",loading:!1}),!1}},refreshUser:async()=>{let t=r().user;if(t)try{let r=await n.e.refreshUser(t.id);r&&e({user:r})}catch(e){console.error("Failed to refresh user:",e)}},clearError:()=>e({error:null}),initializeAuth:async()=>{e({loading:!0});try{let r=await n.e.getSession();if(null==r?void 0:r.user){let{data:t}=await o.OQ.from("users").select("*").eq("id",r.user.id).single();t?e({user:t,loading:!1}):e({user:null,loading:!1})}else e({user:null,loading:!1})}catch(r){console.error("Auth initialization error:",r),e({user:null,loading:!1})}}}),{name:"auth-storage",partialize:e=>({user:e.user})}))}}]);