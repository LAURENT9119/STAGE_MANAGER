(()=>{var e={};e.id=2800,e.ids=[2800],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},14300:e=>{"use strict";e.exports=require("buffer")},6113:e=>{"use strict";e.exports=require("crypto")},82361:e=>{"use strict";e.exports=require("events")},13685:e=>{"use strict";e.exports=require("http")},95687:e=>{"use strict";e.exports=require("https")},41808:e=>{"use strict";e.exports=require("net")},85477:e=>{"use strict";e.exports=require("punycode")},12781:e=>{"use strict";e.exports=require("stream")},24404:e=>{"use strict";e.exports=require("tls")},57310:e=>{"use strict";e.exports=require("url")},59796:e=>{"use strict";e.exports=require("zlib")},11918:(e,s,r)=>{"use strict";r.r(s),r.d(s,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>x,routeModule:()=>h,tree:()=>o});var t=r(73137),a=r(54647),l=r(4183),i=r.n(l),n=r(71775),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);r.d(s,d);let c=t.AppPageRouteModule,o=["",{children:["dashboard",{children:["tutor",{children:["interns",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,81686)),"/home/runner/workspace/app/dashboard/tutor/interns/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(r.bind(r,74436)),"/home/runner/workspace/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(r.bind(r,8912)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,51918,23)),"next/dist/client/components/not-found-error"]}],x=["/home/runner/workspace/app/dashboard/tutor/interns/page.tsx"],u="/dashboard/tutor/interns/page",m={require:r,loadChunk:()=>Promise.resolve()},h=new c({definition:{kind:a.x.APP_PAGE,page:"/dashboard/tutor/interns/page",pathname:"/dashboard/tutor/interns",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},25513:(e,s,r)=>{Promise.resolve().then(r.bind(r,35769))},35769:(e,s,r)=>{"use strict";r.r(s),r.d(s,{default:()=>k});var t=r(60080),a=r(9885),l=r(89176),i=r(6450),n=r(65924),d=r(68384),c=r(49424),o=r(54747),x=r(70589),u=r(32293),m=r(7731),h=r(69518),p=r(12029),j=r(22388),g=r(51839),f=r(62330),v=r(23161);let b=a.forwardRef(({className:e,value:s,...r},a)=>t.jsx(f.fC,{ref:a,className:(0,v.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...r,children:t.jsx(f.z$,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(s||0)}%)`}})}));b.displayName=f.fC.displayName;var N=r(35231),w=r(69336),_=r(87502),y=r(33478);function k(){let{user:e}=(0,w.t)(),{interns:s,loading:r,error:f,updateProgress:v}=(0,N.L)(),{toast:k}=(0,_.pm)(),[P,q]=(0,a.useState)(""),[C,S]=(0,a.useState)("all"),[D,z]=(0,a.useState)(null),[E,M]=(0,a.useState)(!1);(0,a.useEffect)(()=>{f&&k({title:"Erreur",description:"Impossible de charger les stagiaires",variant:"destructive"})},[f,k]);let L=s.filter(s=>s.tutor_id===e?.id),Q=L.filter(e=>{let s=e.user.full_name.toLowerCase().includes(P.toLowerCase())||e.user.email.toLowerCase().includes(P.toLowerCase()),r="all"===C||e.status===C;return s&&r}),A=e=>{switch(e){case"active":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-300";case"completed":default:return"bg-gray-100 text-gray-800 dark:bg-gray-900 dark:text-gray-300";case"upcoming":return"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-300"}},R=e=>{switch(e){case"active":return"En cours";case"completed":return"Termin\xe9";case"upcoming":return"\xc0 venir";default:return e}},$=async(e,s)=>{M(!0);try{await v(e,s),k({title:"Progression mise \xe0 jour",description:"La progression du stagiaire a \xe9t\xe9 mise \xe0 jour avec succ\xe8s."}),z(null)}catch(e){k({title:"Erreur",description:"Impossible de mettre \xe0 jour la progression",variant:"destructive"})}finally{M(!1)}};return r?(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[t.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:t.jsx("div",{className:"container flex h-16 items-center",children:t.jsx(l.MainNav,{role:"tutor"})})}),(0,t.jsxs)("div",{className:"container flex-1 items-start md:grid md:grid-cols-[220px_1fr] md:gap-6 lg:grid-cols-[240px_1fr] lg:gap-10",children:[t.jsx("aside",{className:"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block border-r",children:t.jsx(i.T,{role:"tutor"})}),t.jsx("main",{className:"flex w-full flex-col overflow-hidden py-6",children:t.jsx("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement de mes stagiaires..."})]})})})]}),t.jsx(n.n,{})]}):(0,t.jsxs)("div",{className:"flex min-h-screen flex-col",children:[t.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:t.jsx("div",{className:"container flex h-16 items-center",children:t.jsx(l.MainNav,{role:"tutor"})})}),(0,t.jsxs)("div",{className:"container flex-1 items-start md:grid md:grid-cols-[220px_1fr] md:gap-6 lg:grid-cols-[240px_1fr] lg:gap-10",children:[t.jsx("aside",{className:"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block border-r",children:t.jsx(i.T,{role:"tutor"})}),t.jsx("main",{className:"flex w-full flex-col overflow-hidden py-6",children:(0,t.jsxs)("div",{className:"flex flex-col space-y-8",children:[t.jsx("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Mes Stagiaires"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:["G\xe9rez et suivez les stagiaires sous votre tutelle (",L.length," stagiaires)"]})]})}),(0,t.jsxs)("div",{className:"flex flex-col gap-4 sm:flex-row sm:items-center sm:justify-between",children:[t.jsx("div",{className:"flex items-center gap-2",children:(0,t.jsxs)("div",{className:"relative w-full md:w-80",children:[t.jsx(h.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(c.I,{placeholder:"Rechercher un stagiaire...",className:"pl-8",value:P,onChange:e=>q(e.target.value)})]})}),t.jsx("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(x.Ph,{value:C,onValueChange:e=>S(e),children:[(0,t.jsxs)(x.i4,{className:"w-[180px]",children:[t.jsx(p.Z,{className:"mr-2 h-4 w-4"}),t.jsx(x.ki,{placeholder:"Statut"})]}),(0,t.jsxs)(x.Bw,{children:[t.jsx(x.Ql,{value:"all",children:"Tous les statuts"}),t.jsx(x.Ql,{value:"active",children:"En cours"}),t.jsx(x.Ql,{value:"completed",children:"Termin\xe9"}),t.jsx(x.Ql,{value:"upcoming",children:"\xc0 venir"})]})]})})]}),t.jsx("div",{className:"rounded-md border",children:(0,t.jsxs)(o.iA,{children:[t.jsx(o.xD,{children:(0,t.jsxs)(o.SC,{children:[t.jsx(o.ss,{children:"Stagiaire"}),t.jsx(o.ss,{children:"D\xe9partement"}),t.jsx(o.ss,{children:"P\xe9riode"}),t.jsx(o.ss,{children:"Progression"}),t.jsx(o.ss,{children:"Statut"}),t.jsx(o.ss,{children:"Actions"})]})}),t.jsx(o.RM,{children:0===Q.length?t.jsx(o.SC,{children:t.jsx(o.pj,{colSpan:6,className:"text-center py-8",children:0===L.length?"Aucun stagiaire sous votre tutelle":"Aucun stagiaire trouv\xe9 avec ces crit\xe8res"})}):Q.map(e=>(0,t.jsxs)(o.SC,{children:[t.jsx(o.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsxs)(u.qE,{children:[t.jsx(u.F$,{src:e.user.avatar_url,alt:e.user.full_name}),t.jsx(u.Q5,{children:(0,m.Q)(e.user.full_name)})]}),(0,t.jsxs)("div",{children:[t.jsx("div",{className:"font-medium",children:e.user.full_name}),t.jsx("div",{className:"text-sm text-muted-foreground",children:e.user.email})]})]})}),t.jsx(o.pj,{children:e.department}),(0,t.jsxs)(o.pj,{children:[new Date(e.start_date).toLocaleDateString("fr-FR")," -"," ",new Date(e.end_date).toLocaleDateString("fr-FR")]}),t.jsx(o.pj,{children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[t.jsx(b,{value:e.progress,className:"w-20"}),(0,t.jsxs)("span",{className:"text-sm text-muted-foreground",children:[e.progress,"%"]})]})}),t.jsx(o.pj,{children:t.jsx("span",{className:`inline-flex items-center rounded-full px-2.5 py-0.5 text-xs font-medium ${A(e.status)}`,children:R(e.status)})}),t.jsx(o.pj,{children:(0,t.jsxs)(g.Vq,{children:[t.jsx(g.hg,{asChild:!0,children:(0,t.jsxs)(d.z,{variant:"outline",size:"sm",onClick:()=>z(e),children:[t.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"D\xe9tails"]})}),(0,t.jsxs)(g.cZ,{className:"max-w-2xl",children:[t.jsx(g.fK,{children:t.jsx(g.$N,{children:"D\xe9tails du stagiaire"})}),D&&(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center gap-4",children:[(0,t.jsxs)(u.qE,{className:"h-16 w-16",children:[t.jsx(u.F$,{src:D.user.avatar_url}),t.jsx(u.Q5,{children:(0,m.Q)(D.user.full_name)})]}),(0,t.jsxs)("div",{children:[t.jsx("h3",{className:"text-lg font-semibold",children:D.user.full_name}),t.jsx("p",{className:"text-muted-foreground",children:D.user.email})]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,t.jsxs)("div",{children:[t.jsx(y._,{children:"D\xe9partement"}),t.jsx("p",{className:"mt-1",children:D.department})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{children:"Projet"}),t.jsx("p",{className:"mt-1",children:D.project||"Non d\xe9fini"})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{children:"Date de d\xe9but"}),t.jsx("p",{className:"mt-1",children:new Date(D.start_date).toLocaleDateString("fr-FR")})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{children:"Date de fin"}),t.jsx("p",{className:"mt-1",children:new Date(D.end_date).toLocaleDateString("fr-FR")})]})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{children:"Progression actuelle"}),(0,t.jsxs)("div",{className:"mt-2 flex items-center gap-2",children:[t.jsx(b,{value:D.progress,className:"flex-1"}),(0,t.jsxs)("span",{className:"text-sm font-medium",children:[D.progress,"%"]})]})]}),(0,t.jsxs)("div",{children:[t.jsx(y._,{htmlFor:"newProgress",children:"Mettre \xe0 jour la progression"}),(0,t.jsxs)("div",{className:"flex items-center gap-2 mt-2",children:[t.jsx(c.I,{id:"newProgress",type:"number",min:"0",max:"100",defaultValue:D.progress,className:"w-20"}),t.jsx("span",{children:"%"}),t.jsx(d.z,{size:"sm",disabled:E,onClick:()=>{let e=document.getElementById("newProgress"),s=parseInt(e.value);s>=0&&s<=100&&$(D.id,s)},children:E?"Mise \xe0 jour...":"Mettre \xe0 jour"})]})]}),D.notes&&(0,t.jsxs)("div",{children:[t.jsx(y._,{children:"Notes"}),t.jsx("p",{className:"mt-1 p-3 bg-muted rounded-md text-sm",children:D.notes})]})]})]})]})})]},e.id))})]})})]})})]}),t.jsx(n.n,{})]})}},7731:(e,s,r)=>{"use strict";function t(e){if(!e)return"??";let s=e.split(" ");return 1===s.length?s[0].substring(0,2).toUpperCase():(s[0][0]+s[s.length-1][0]).toUpperCase()}r.d(s,{Q:()=>t})},81686:(e,s,r)=>{"use strict";r.r(s),r.d(s,{$$typeof:()=>i,__esModule:()=>l,default:()=>d});var t=r(17536);let a=(0,t.createProxy)(String.raw`/home/runner/workspace/app/dashboard/tutor/interns/page.tsx`),{__esModule:l,$$typeof:i}=a,n=a.default,d=n}};var s=require("../../../../webpack-runtime.js");s.C(e);var r=e=>s(s.s=e),t=s.X(0,[449,2322,6912,6229,251,2662,7471,2129,6290,2981,2589,8384,9176,9336,5924,3903,589,8639,2293,5231,446],()=>r(11918));module.exports=t})();