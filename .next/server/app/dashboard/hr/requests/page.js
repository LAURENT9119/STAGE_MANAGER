(()=>{var e={};e.id=8279,e.ids=[8279],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},50578:(e,n,o)=>{"use strict";o.r(n),o.d(n,{GlobalError:()=>c.a,__next_app__:()=>m,originalPathname:()=>O,pages:()=>u,routeModule:()=>h,tree:()=>l});var t=o(73137),r=o(54647),s=o(4183),c=o.n(s),a=o(71775),d={};for(let e in a)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>a[e]);o.d(n,d);let i=t.AppPageRouteModule,l=["",{children:["dashboard",{children:["hr",{children:["requests",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.bind(o,41191)),"/home/runner/workspace/app/dashboard/hr/requests/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,74436)),"/home/runner/workspace/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(o.bind(o,79958)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,51918,23)),"next/dist/client/components/not-found-error"]}],u=["/home/runner/workspace/app/dashboard/hr/requests/page.tsx"],O="/dashboard/hr/requests/page",m={require:o,loadChunk:()=>Promise.resolve()},h=new i({definition:{kind:r.x.APP_PAGE,page:"/dashboard/hr/requests/page",pathname:"/dashboard/hr/requests",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},80734:(e,n,o)=>{Promise.resolve().then(o.bind(o,18933))},18933:(e,n,o)=>{"use strict";o.r(n),o.d(n,{default:()=>x});var t=o(60080),r=o(9885),s=o(28090),c=o(47884),a=o(15441),d=o(1264),i=o(56206),l=o(43917),u=o(85574),O=o(69518),m=o(39546);(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/badge'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/store/auth-store'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/hooks/use-requests'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}();let h=e=>{switch(e){case"pending":return(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/badge'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",className:"text-orange-600 border-orange-600",children:[t.jsx(a.Z,{className:"w-3 h-3 mr-1"}),"En attente"]});case"approved":return(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/badge'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",className:"text-green-600 border-green-600",children:[t.jsx(d.Z,{className:"w-3 h-3 mr-1"}),"Approuv\xe9e"]});case"rejected":return(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/badge'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",className:"text-red-600 border-red-600",children:[t.jsx(i.Z,{className:"w-3 h-3 mr-1"}),"Rejet\xe9e"]});case"in_review":return(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/badge'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",className:"text-blue-600 border-blue-600",children:[t.jsx(l.Z,{className:"w-3 h-3 mr-1"}),"En r\xe9vision"]});default:return t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/badge'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",children:e})}},f=e=>t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/badge'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"secondary",children:{convention:"Convention",prolongation:"Prolongation",conge:"Cong\xe9",attestation:"Attestation"}[e]||e});function x(){let{user:e}=Object(function(){var e=Error("Cannot find module '@/store/auth-store'");throw e.code="MODULE_NOT_FOUND",e}())(),{requests:n,loading:o,updateStatus:x,error:N}=Object(function(){var e=Error("Cannot find module '@/hooks/use-requests'");throw e.code="MODULE_NOT_FOUND",e}())(e?.id,e?.role),{toast:j}=Object(function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}())(),[p,_]=(0,r.useState)(""),[E,D]=(0,r.useState)("all"),[v,U]=(0,r.useState)("all"),b=n.filter(e=>{let n=e.title.toLowerCase().includes(p.toLowerCase())||e.intern?.user?.full_name.toLowerCase().includes(p.toLowerCase()),o="all"===E||e.status===E,t="all"===v||e.type===v;return n&&o&&t}),w=async(n,o)=>{try{await x(n,o,e.id),j({title:"Statut mis \xe0 jour",description:`La demande a \xe9t\xe9 ${"approved"===o?"approuv\xe9e":"rejet\xe9e"}.`})}catch(e){j({title:"Erreur",description:"Impossible de mettre \xe0 jour le statut de la demande.",variant:"destructive"})}},C=n.filter(e=>"pending"===e.status).length,M=n.filter(e=>"approved"===e.status).length,L=n.filter(e=>"rejected"===e.status).length;return o?t.jsx("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),t.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement des demandes..."})]})}):N?t.jsx("div",{className:"flex items-center justify-center h-96",children:(0,t.jsxs)("div",{className:"text-center",children:[t.jsx(l.Z,{className:"h-12 w-12 text-red-500 mx-auto mb-4"}),(0,t.jsxs)("p",{className:"text-red-600",children:["Erreur lors du chargement des demandes: ",N]})]})}):(0,t.jsxs)("div",{className:"flex-1 space-y-4 p-8 pt-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{children:[t.jsx("h2",{className:"text-3xl font-bold tracking-tight",children:"Gestion des demandes"}),t.jsx("p",{className:"text-muted-foreground",children:"Examinez et approuvez les demandes des stagiaires"})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",children:[t.jsx(u.Z,{className:"mr-2 h-4 w-4"}),"Exporter"]})]}),(0,t.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-sm font-medium",children:"En attente"}),t.jsx(a.Z,{className:"h-4 w-4 text-orange-600"})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx("div",{className:"text-2xl font-bold text-orange-600",children:C}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"N\xe9cessitent votre attention"})]})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-sm font-medium",children:"Approuv\xe9es"}),t.jsx(d.Z,{className:"h-4 w-4 text-green-600"})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx("div",{className:"text-2xl font-bold text-green-600",children:M}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Ce mois-ci"})]})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"text-sm font-medium",children:"Rejet\xe9es"}),t.jsx(i.Z,{className:"h-4 w-4 text-red-600"})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx("div",{className:"text-2xl font-bold text-red-600",children:L}),t.jsx("p",{className:"text-xs text-muted-foreground",children:"Ce mois-ci"})]})]})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Filtrer les demandes"})}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,t.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[t.jsx("div",{className:"flex-1",children:(0,t.jsxs)("div",{className:"relative",children:[t.jsx(O.Z,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{placeholder:"Rechercher par titre ou nom du stagiaire...",value:p,onChange:e=>_(e.target.value),className:"pl-8"})]})}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:E,onValueChange:D,children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"w-40",children:t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{placeholder:"Statut"})}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"all",children:"Tous les statuts"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"pending",children:"En attente"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"approved",children:"Approuv\xe9es"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"rejected",children:"Rejet\xe9es"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"in_review",children:"En r\xe9vision"})]})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:v,onValueChange:U,children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"w-40",children:t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{placeholder:"Type"})}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"all",children:"Tous les types"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"convention",children:"Convention"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"prolongation",children:"Prolongation"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"conge",children:"Cong\xe9"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/select'");throw e.code="MODULE_NOT_FOUND",e}()),{value:"attestation",children:"Attestation"})]})]})]})})]}),(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:["Demandes (",b.length,")"]}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Liste de toutes les demandes soumises par les stagiaires"})]}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/card'");throw e.code="MODULE_NOT_FOUND",e}()),{children:0===b.length?(0,t.jsxs)("div",{className:"text-center py-8",children:[t.jsx(m.Z,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),t.jsx("p",{className:"text-muted-foreground",children:"Aucune demande trouv\xe9e"})]}):(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Stagiaire"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Type"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Titre"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Date de soumission"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Statut"}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"Actions"})]})}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:b.map(e=>(0,t.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"font-medium",children:e.intern?.user?.full_name}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:f(e.type)}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:e.title}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:(0,s.ZP)(new Date(e.submitted_at),"dd MMM yyyy",{locale:c.fr})}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:h(e.status)}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/table'");throw e.code="MODULE_NOT_FOUND",e}()),{children:"pending"===e.status&&(0,t.jsxs)("div",{className:"flex space-x-2",children:[t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{size:"sm",variant:"outline",className:"text-green-600 border-green-600 hover:bg-green-50",onClick:()=>w(e.id,"approved"),children:t.jsx(d.Z,{className:"h-4 w-4"})}),t.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{size:"sm",variant:"outline",className:"text-red-600 border-red-600 hover:bg-red-50",onClick:()=>w(e.id,"rejected"),children:t.jsx(i.Z,{className:"h-4 w-4"})})]})})]},e.id))})]})})]})]})}},41191:(e,n,o)=>{"use strict";o.r(n),o.d(n,{$$typeof:()=>c,__esModule:()=>s,default:()=>d});var t=o(17536);let r=(0,t.createProxy)(String.raw`/home/runner/workspace/app/dashboard/hr/requests/page.tsx`),{__esModule:s,$$typeof:c}=r,a=r.default,d=a}};var n=require("../../../../webpack-runtime.js");n.C(e);var o=e=>n(n.s=e),t=n.X(0,[7255,9913,8437,4843,9713,4233,3207,3903],()=>o(50578));module.exports=t})();