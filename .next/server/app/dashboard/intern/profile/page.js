(()=>{var e={};e.id=7441,e.ids=[7441],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},61899:(e,r,o)=>{"use strict";o.r(r),o.d(r,{GlobalError:()=>s.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>u,routeModule:()=>h,tree:()=>c});var n=o(73137),t=o(54647),a=o(4183),s=o.n(a),i=o(71775),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);o.d(r,d);let l=n.AppPageRouteModule,c=["",{children:["dashboard",{children:["intern",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.bind(o,3297)),"/home/runner/workspace/app/dashboard/intern/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,74436)),"/home/runner/workspace/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(o.bind(o,79958)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,51918,23)),"next/dist/client/components/not-found-error"]}],u=["/home/runner/workspace/app/dashboard/intern/profile/page.tsx"],m="/dashboard/intern/profile/page",p={require:o,loadChunk:()=>Promise.resolve()},h=new l({definition:{kind:t.x.APP_PAGE,page:"/dashboard/intern/profile/page",pathname:"/dashboard/intern/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},44329:(e,r,o)=>{Promise.resolve().then(o.bind(o,8185))},8185:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>a});var n=o(60080),t=o(9885);function a(){let{toast:e}=Object(function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}())(),{user:r,getCurrentUser:o}=Object(function(){var e=Error("Cannot find module '@/store/auth-store'");throw e.code="MODULE_NOT_FOUND",e}())(),[a,s]=(0,t.useState)(!1),[i,d]=(0,t.useState)(!1),[l,c]=(0,t.useState)({full_name:"",email:"",phone:"",address:""});(0,t.useEffect)(()=>{r&&c({full_name:r.full_name||"",email:r.email||"",phone:r.phone||"",address:r.address||""})},[r]);let u=async n=>{if(n.preventDefault(),r){d(!0);try{let{error:n}=await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}()).from("users").update({full_name:l.full_name,phone:l.phone,address:l.address,updated_at:new Date().toISOString()}).eq("id",r.id);if(n)throw n;await o(),e({title:"Profil mis \xe0 jour",description:"Vos informations ont \xe9t\xe9 mises \xe0 jour avec succ\xe8s."})}catch(r){e({title:"Erreur",description:"Impossible de mettre \xe0 jour le profil",variant:"destructive"})}finally{d(!1)}}},m=(e,r)=>{c(o=>({...o,[e]:r}))};return r?(0,n.jsxs)("div",{className:"flex min-h-screen flex-col",children:[n.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container flex h-16 items-center",children:n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/main-nav'");throw e.code="MODULE_NOT_FOUND",e}()),{role:"intern"})})}),(0,n.jsxs)("div",{className:"container flex-1 items-start md:grid md:grid-cols-[220px_1fr] md:gap-6 lg:grid-cols-[240px_1fr] lg:gap-10",children:[n.jsx("aside",{className:"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block border-r",children:n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/dashboard-nav'");throw e.code="MODULE_NOT_FOUND",e}()),{role:"intern"})}),n.jsx("main",{className:"flex w-full flex-col overflow-hidden py-6",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Mon Profil"}),n.jsx("p",{className:"text-muted-foreground",children:"G\xe9rez vos informations personnelles et vos pr\xe9f\xe9rences."})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-24 w-24",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{src:r.avatar_url,alt:r.full_name}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{children:Object(function(){var e=Error("Cannot find module '@/lib/string-utils'");throw e.code="MODULE_NOT_FOUND",e}())(r.full_name)})]}),(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Photo de profil"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Cette photo sera visible par votre tuteur et l'\xe9quipe RH."}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",size:"sm",children:"Changer la photo"})]})]}),(0,n.jsxs)("form",{onSubmit:u,className:"space-y-8",children:[(0,n.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"name",children:"Nom complet"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"name",value:l.full_name,onChange:e=>m("full_name",e.target.value),disabled:i})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"email",children:"Email"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"email",type:"email",value:l.email,disabled:!0,className:"bg-muted"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"L'email ne peut pas \xeatre modifi\xe9"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"phone",children:"T\xe9l\xe9phone"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"phone",value:l.phone,onChange:e=>m("phone",e.target.value),disabled:i,placeholder:"Ex: 0123456789"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"role",children:"R\xf4le"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"role",value:"Stagiaire",disabled:!0,className:"bg-muted"})]}),(0,n.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"address",children:"Adresse"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"address",value:l.address,onChange:e=>m("address",e.target.value),disabled:i,placeholder:"Votre adresse compl\xe8te"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"submit",disabled:i,children:i?"Mise \xe0 jour...":"Mettre \xe0 jour le profil"}),(0,n.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Derni\xe8re mise \xe0 jour : ",new Date(r.updated_at).toLocaleDateString("fr-FR")]})]})]})]})]})})]}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/site-footer'");throw e.code="MODULE_NOT_FOUND",e}()),{})]}):n.jsx("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement du profil..."})]})})}(function(){var e=Error("Cannot find module '@/components/layout/main-nav'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/layout/dashboard-nav'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/layout/site-footer'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/store/auth-store'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/lib/string-utils'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}()},3297:(e,r,o)=>{"use strict";o.r(r),o.d(r,{$$typeof:()=>s,__esModule:()=>a,default:()=>d});var n=o(17536);let t=(0,n.createProxy)(String.raw`/home/runner/workspace/app/dashboard/intern/profile/page.tsx`),{__esModule:a,$$typeof:s}=t,i=t.default,d=i},60080:(e,r,o)=>{"use strict";e.exports=o(10316).vendored["react-shared"].ReactJsxRuntime},57114:(e,r,o)=>{e.exports=o(82778)}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),n=r.X(0,[7255,3499,3903],()=>o(61899));module.exports=n})();