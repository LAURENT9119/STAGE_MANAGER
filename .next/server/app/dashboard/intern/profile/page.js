(()=>{var e={};e.id=441,e.ids=[441],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},45363:(e,r,o)=>{"use strict";o.r(r),o.d(r,{GlobalError:()=>s.a,__next_app__:()=>m,originalPathname:()=>u,pages:()=>c,routeModule:()=>h,tree:()=>l}),o(89773),o(13321),o(11506),o(35866);var n=o(23191),t=o(88716),a=o(37922),s=o.n(a),i=o(95231),d={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>i[e]);o.d(r,d);let l=["",{children:["dashboard",{children:["intern",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(o.bind(o,89773)),"/home/runner/workspace/app/dashboard/intern/profile/page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(o.bind(o,13321)),"/home/runner/workspace/app/dashboard/layout.tsx"]}]},{layout:[()=>Promise.resolve().then(o.bind(o,11506)),"/home/runner/workspace/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(o.t.bind(o,35866,23)),"next/dist/client/components/not-found-error"]}],c=["/home/runner/workspace/app/dashboard/intern/profile/page.tsx"],u="/dashboard/intern/profile/page",m={require:o,loadChunk:()=>Promise.resolve()},h=new n.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/intern/profile/page",pathname:"/dashboard/intern/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:l}})},65375:(e,r,o)=>{Promise.resolve().then(o.bind(o,58678))},53371:(e,r,o)=>{Promise.resolve().then(o.bind(o,58767))},30229:(e,r,o)=>{Promise.resolve().then(o.t.bind(o,12994,23)),Promise.resolve().then(o.t.bind(o,96114,23)),Promise.resolve().then(o.t.bind(o,9727,23)),Promise.resolve().then(o.t.bind(o,79671,23)),Promise.resolve().then(o.t.bind(o,41868,23)),Promise.resolve().then(o.t.bind(o,84759,23))},97104:()=>{},58678:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>a});var n=o(10326),t=o(17577);function a(){let{toast:e}=Object(function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}())(),{user:r,getCurrentUser:o}=Object(function(){var e=Error("Cannot find module '@/store/auth-store'");throw e.code="MODULE_NOT_FOUND",e}())(),[a,s]=(0,t.useState)(!1),[i,d]=(0,t.useState)(!1),[l,c]=(0,t.useState)({full_name:"",email:"",phone:"",address:""}),u=async n=>{if(n.preventDefault(),r){d(!0);try{let{error:n}=await Object(function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}()).from("users").update({full_name:l.full_name,phone:l.phone,address:l.address,updated_at:new Date().toISOString()}).eq("id",r.id);if(n)throw n;await o(),e({title:"Profil mis \xe0 jour",description:"Vos informations ont \xe9t\xe9 mises \xe0 jour avec succ\xe8s."})}catch(r){e({title:"Erreur",description:"Impossible de mettre \xe0 jour le profil",variant:"destructive"})}finally{d(!1)}}},m=(e,r)=>{c(o=>({...o,[e]:r}))};return r?(0,n.jsxs)("div",{className:"flex min-h-screen flex-col",children:[n.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:n.jsx("div",{className:"container flex h-16 items-center",children:n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/main-nav'");throw e.code="MODULE_NOT_FOUND",e}()),{role:"intern"})})}),(0,n.jsxs)("div",{className:"container flex-1 items-start md:grid md:grid-cols-[220px_1fr] md:gap-6 lg:grid-cols-[240px_1fr] lg:gap-10",children:[n.jsx("aside",{className:"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block border-r",children:n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/dashboard-nav'");throw e.code="MODULE_NOT_FOUND",e}()),{role:"intern"})}),n.jsx("main",{className:"flex w-full flex-col overflow-hidden py-6",children:(0,n.jsxs)("div",{className:"flex flex-col space-y-8",children:[(0,n.jsxs)("div",{children:[n.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Mon Profil"}),n.jsx("p",{className:"text-muted-foreground",children:"G\xe9rez vos informations personnelles et vos pr\xe9f\xe9rences."})]}),(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"flex items-center gap-6",children:[(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{className:"h-24 w-24",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{src:r.avatar_url,alt:r.full_name}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}()),{children:Object(function(){var e=Error("Cannot find module '@/lib/string-utils'");throw e.code="MODULE_NOT_FOUND",e}())(r.full_name)})]}),(0,n.jsxs)("div",{children:[n.jsx("h3",{className:"text-lg font-medium",children:"Photo de profil"}),n.jsx("p",{className:"text-sm text-muted-foreground mb-2",children:"Cette photo sera visible par votre tuteur et l'\xe9quipe RH."}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{variant:"outline",size:"sm",children:"Changer la photo"})]})]}),(0,n.jsxs)("form",{onSubmit:u,className:"space-y-8",children:[(0,n.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"name",children:"Nom complet"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"name",value:l.full_name,onChange:e=>m("full_name",e.target.value),disabled:i})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"email",children:"Email"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"email",type:"email",value:l.email,disabled:!0,className:"bg-muted"}),n.jsx("p",{className:"text-xs text-muted-foreground",children:"L'email ne peut pas \xeatre modifi\xe9"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"phone",children:"T\xe9l\xe9phone"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"phone",value:l.phone,onChange:e=>m("phone",e.target.value),disabled:i,placeholder:"Ex: 0123456789"})]}),(0,n.jsxs)("div",{className:"space-y-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"role",children:"R\xf4le"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"role",value:"Stagiaire",disabled:!0,className:"bg-muted"})]}),(0,n.jsxs)("div",{className:"space-y-2 md:col-span-2",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}()),{htmlFor:"address",children:"Adresse"}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}()),{id:"address",value:l.address,onChange:e=>m("address",e.target.value),disabled:i,placeholder:"Votre adresse compl\xe8te"})]})]}),(0,n.jsxs)("div",{className:"flex items-center gap-4",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}()),{type:"submit",disabled:i,children:i?"Mise \xe0 jour...":"Mettre \xe0 jour le profil"}),(0,n.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Derni\xe8re mise \xe0 jour : ",new Date(r.updated_at).toLocaleDateString("fr-FR")]})]})]})]})]})})]}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/site-footer'");throw e.code="MODULE_NOT_FOUND",e}()),{})]}):n.jsx("div",{className:"flex min-h-screen items-center justify-center",children:(0,n.jsxs)("div",{className:"text-center",children:[n.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto"}),n.jsx("p",{className:"mt-4 text-muted-foreground",children:"Chargement du profil..."})]})})}(function(){var e=Error("Cannot find module '@/components/layout/main-nav'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/layout/dashboard-nav'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/layout/site-footer'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/button'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/input'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/label'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/avatar'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/hooks/use-toast'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/store/auth-store'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/lib/string-utils'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/lib/supabase'");throw e.code="MODULE_NOT_FOUND",e}()},58767:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>s});var n=o(10326),t=o(17577),a=o(35047);function s({children:e}){let{user:r,loading:o,initializeAuth:s}=Object(function(){var e=Error("Cannot find module '@/store/auth-store'");throw e.code="MODULE_NOT_FOUND",e}())();(0,a.useRouter)();let[i,d]=(0,t.useState)(!1);return!i||o?n.jsx("div",{className:"flex min-h-screen items-center justify-center",children:n.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"})}):r?(0,n.jsxs)("div",{className:"flex min-h-screen flex-col",children:[n.jsx("header",{className:"sticky top-0 z-40 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:(0,n.jsxs)("div",{className:"container flex h-16 items-center",children:[n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/main-nav'");throw e.code="MODULE_NOT_FOUND",e}()),{}),n.jsx("div",{className:"ml-auto flex items-center space-x-4",children:(0,n.jsxs)("span",{className:"text-sm text-muted-foreground",children:[r.full_name," (",r.role.toUpperCase(),")"]})})]})}),(0,n.jsxs)("div",{className:"flex flex-1",children:[n.jsx("aside",{className:"w-64 border-r bg-muted/10",children:n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/dashboard-nav'");throw e.code="MODULE_NOT_FOUND",e}()),{userRole:r.role})}),n.jsx("main",{className:"flex-1",children:e})]}),n.jsx(Object(function(){var e=Error("Cannot find module '@/components/layout/site-footer'");throw e.code="MODULE_NOT_FOUND",e}()),{})]}):null}(function(){var e=Error("Cannot find module '@/store/auth-store'");throw e.code="MODULE_NOT_FOUND",e})(),function(){var e=Error("Cannot find module '@/components/layout/dashboard-nav'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/layout/main-nav'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/layout/site-footer'");throw e.code="MODULE_NOT_FOUND",e}()},35047:(e,r,o)=>{"use strict";var n=o(77389);o.o(n,"useRouter")&&o.d(r,{useRouter:function(){return n.useRouter}})},89773:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>n});let n=(0,o(68570).createProxy)(String.raw`/home/runner/workspace/app/dashboard/intern/profile/page.tsx#default`)},13321:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>n});let n=(0,o(68570).createProxy)(String.raw`/home/runner/workspace/app/dashboard/layout.tsx#default`)},11506:(e,r,o)=>{"use strict";o.r(r),o.d(r,{default:()=>i,metadata:()=>s});var n=o(19510),t=o(85384),a=o.n(t);o(67272),function(){var e=Error("Cannot find module '@/components/theme-provider'");throw e.code="MODULE_NOT_FOUND",e}(),function(){var e=Error("Cannot find module '@/components/ui/toaster'");throw e.code="MODULE_NOT_FOUND",e}();let s={title:"Stage+ | Gestion des Stagiaires",description:"Plateforme de gestion des stagiaires avec demandes en ligne"};function i({children:e}){return n.jsx("html",{lang:"fr",suppressHydrationWarning:!0,children:n.jsx("body",{className:a().className,children:(0,n.jsxs)(Object(function(){var e=Error("Cannot find module '@/components/theme-provider'");throw e.code="MODULE_NOT_FOUND",e}()),{attribute:"class",defaultTheme:"light",children:[e,n.jsx(Object(function(){var e=Error("Cannot find module '@/components/ui/toaster'");throw e.code="MODULE_NOT_FOUND",e}()),{})]})})})}},67272:()=>{}};var r=require("../../../../webpack-runtime.js");r.C(e);var o=e=>r(r.s=e),n=r.X(0,[734],()=>o(45363));module.exports=n})();