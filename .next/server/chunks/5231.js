"use strict";exports.id=5231,exports.ids=[5231],exports.modules={35231:(e,t,r)=>{r.d(t,{L:()=>l});var a=r(9885),s=r(77988),i=r(69336);function l(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[u,n]=(0,a.useState)(null),{user:o}=(0,i.t)(),c=async()=>{try{let e;if(l(!0),n(null),!o){t([]);return}if("tutor"===o.role){if((e=await s.oU.getAll()).data){let r=e.data.filter(e=>e.tutor_id===o.id);t(r)}}else"intern"===o.role?(e=await s.oU.getByUser(o.id)).data?t([e.data]):t([]):(e=await s.oU.getAll()).data&&t(e.data);e?.error&&n(e.error.message)}catch(e){n(e.message||"Erreur lors du chargement des stagiaires")}finally{l(!1)}},d=async e=>{try{let t=await s.oU.create(e);if(t.error)return n(t.error.message),!1;return await c(),!0}catch(e){return n(e.message),!1}},f=async(e,t)=>{try{return await c(),!0}catch(e){return n(e.message),!1}};return(0,a.useEffect)(()=>{c()},[o]),{interns:e,loading:r,error:u,refetch:c,createIntern:d,updateIntern:f}}}};