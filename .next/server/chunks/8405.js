"use strict";exports.id=8405,exports.ids=[8405],exports.modules={88405:(e,t,r)=>{r.d(t,{w:()=>l});var a=r(9885),s=r(60667),n=r(69336);function l(){let[e,t]=(0,a.useState)([]),[r,l]=(0,a.useState)(!0),[i,u]=(0,a.useState)(null),{user:c}=(0,n.t)(),d=async()=>{try{let e;if(l(!0),u(null),!c){t([]);return}if("intern"===c.role){let{data:e}=await s.MJ.getAll();if(e){let r=e.filter(e=>e.intern?.user_id===c.id);t(r)}}else(e=await s.MJ.getAll()).data&&t(e.data);e?.error&&u(e.error.message)}catch(e){u(e.message||"Erreur lors du chargement des demandes")}finally{l(!1)}},o=async e=>{try{let t=await s.MJ.create(e);if(t.error)return u(t.error.message),!1;return await d(),!0}catch(e){return u(e.message),!1}},f=async(e,t)=>{try{return await d(),!0}catch(e){return u(e.message),!1}};return(0,a.useEffect)(()=>{d()},[c]),{requests:e,loading:r,error:i,refetch:d,createRequest:o,updateRequest:f}}}};