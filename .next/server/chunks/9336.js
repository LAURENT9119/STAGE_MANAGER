exports.id=9336,exports.ids=[9336],exports.modules={47814:(e,r,n)=>{"use strict";(0,n(22730).createClient)("https://blqzunqikyrwzelsbbzh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJscXp1bnFpa3lyd3plbHNiYnpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyOTMzMTcsImV4cCI6MjA2Mzg2OTMxN30.QMttUMb_h6zAgFgb2yLD6jMRn9xlhDRsCuP5EPrGYgk")},60667:(e,r,n)=>{"use strict";n.d(r,{oU:()=>o,MJ:()=>l,OQ:()=>i});var t=n(26823);n(47814),n(51349);let s="https://blqzunqikyrwzelsbbzh.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJscXp1bnFpa3lyd3plbHNiYnpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyOTMzMTcsImV4cCI6MjA2Mzg2OTMxN30.QMttUMb_h6zAgFgb2yLD6jMRn9xlhDRsCuP5EPrGYgk";if(!s||!a)throw Error("Missing Supabase environment variables");let i=(0,t.createBrowserClient)(s,a),o={async getAll(){try{let{data:e,error:r}=await i.from("interns").select(`
          *,
          user:users(*),
          tutor:users!interns_tutor_id_fkey(*)
        `);return{data:e,error:r}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des stagiaires:",e),{data:null,error:{message:"Erreur de connexion"}}}},async getByUser(e){try{let{data:r,error:n}=await i.from("interns").select(`
          *,
          user:users(*),
          tutor:users!interns_tutor_id_fkey(*)
        `).eq("user_id",e).single();return{data:r,error:n}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration du stagiaire:",e),{data:null,error:{message:"Erreur de connexion"}}}},async create(e){try{let{data:r,error:n}=await i.from("interns").insert(e).select();return{data:r,error:n}}catch(e){return console.error("Erreur lors de la cr\xe9ation du stagiaire:",e),{data:null,error:{message:"Erreur de cr\xe9ation"}}}}},l={async getAll(){try{let{data:e,error:r}=await i.from("requests").select(`
          *,
          intern:interns(
            *,
            user:users(*)
          )
        `).order("created_at",{ascending:!1});return{data:e,error:r}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",e),{data:null,error:{message:"Erreur de connexion"}}}},async getByIntern(e){try{let{data:r,error:n}=await i.from("requests").select("*").eq("intern_id",e).order("created_at",{ascending:!1});return{data:r,error:n}}catch(e){return console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",e),{data:null,error:{message:"Erreur de connexion"}}}},async create(e){try{let{data:r,error:n}=await i.from("requests").insert(e).select();return{data:r,error:n}}catch(e){return console.error("Erreur lors de la cr\xe9ation de la demande:",e),{data:null,error:{message:"Erreur de cr\xe9ation"}}}}}},51349:()=>{throw Error("Module build failed (from ./node_modules/next/dist/build/webpack/loaders/next-swc-loader.js):\nError: \n  \x1b[38;2;255;30;30m\xd7\x1b[0m NEXT_RSC_ERR_CLIENT_IMPORT: next/headers\n   ╭─[\x1b[38;2;92;157;255;1;4m/home/runner/workspace/lib/supabase/server.ts\x1b[0m:1:1]\n \x1b[2m1\x1b[0m │ \n \x1b[2m2\x1b[0m │ import { createServerClient, type CookieOptions } from '@supabase/ssr';\n \x1b[2m3\x1b[0m │ import { cookies } from 'next/headers';\n   \xb7 \x1b[38;2;246;87;248m───────────────────────────────────────\x1b[0m\n \x1b[2m4\x1b[0m │ \n \x1b[2m5\x1b[0m │ export function createClient() {\n \x1b[2m6\x1b[0m │   const cookieStore = cookies();\n   ╰────\n")},69336:(e,r,n)=>{"use strict";n.d(r,{t:()=>o});var t=n(88944),s=n(48228),a=n(47814),i=n(60667);let o=(0,t.U)()((0,s.tJ)((e,r)=>({user:null,loading:!1,error:null,signIn:async(r,n)=>{e({loading:!0,error:null});try{let t=await a.authService.signIn(r,n);if(t)return e({user:t,loading:!1}),!0;return e({error:"\xc9chec de la connexion",loading:!1}),!1}catch(r){return e({error:r.message||"Erreur de connexion",loading:!1}),!1}},signOut:async()=>{e({loading:!0});try{await a.authService.signOut(),e({user:null,loading:!1,error:null})}catch(r){e({error:r.message||"Erreur de d\xe9connexion",loading:!1})}},signUp:async(r,n,t,s)=>{e({loading:!0,error:null});try{let i=await a.authService.signUp(r,n,t,s);if(i)return e({user:i,loading:!1}),!0;return e({error:"\xc9chec de l'inscription",loading:!1}),!1}catch(r){return e({error:r.message||"Erreur d'inscription",loading:!1}),!1}},refreshUser:async()=>{let n=r().user;if(n)try{let r=await a.authService.refreshUser(n.id);r&&e({user:r})}catch(e){console.error("Failed to refresh user:",e)}},clearError:()=>e({error:null}),initializeAuth:async()=>{e({loading:!0});try{let r=await a.authService.getSession();if(r?.user){let{data:n}=await i.OQ.from("users").select("*").eq("id",r.user.id).single();n?e({user:n,loading:!1}):e({user:null,loading:!1})}else e({user:null,loading:!1})}catch(r){console.error("Auth initialization error:",r),e({user:null,loading:!1})}}}),{name:"auth-storage",partialize:e=>({user:e.user})}))}};