"use strict";exports.id=9336,exports.ids=[9336],exports.modules={47814:(r,e,t)=>{(0,t(22730).createClient)("https://blqzunqikyrwzelsbbzh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJscXp1bnFpa3lyd3plbHNiYnpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyOTMzMTcsImV4cCI6MjA2Mzg2OTMxN30.QMttUMb_h6zAgFgb2yLD6jMRn9xlhDRsCuP5EPrGYgk")},60667:(r,e,t)=>{t.d(e,{oU:()=>l,MJ:()=>o,OQ:()=>i});var n=t(26823);t(47814);let s="https://blqzunqikyrwzelsbbzh.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJscXp1bnFpa3lyd3plbHNiYnpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyOTMzMTcsImV4cCI6MjA2Mzg2OTMxN30.QMttUMb_h6zAgFgb2yLD6jMRn9xlhDRsCuP5EPrGYgk";if(!s||!a)throw Error("Missing Supabase environment variables");let i=(0,n.createBrowserClient)(s,a),l={async getAll(){try{let{data:r,error:e}=await i.from("interns").select(`
          *,
          user:users(*),
          tutor:users!interns_tutor_id_fkey(*)
        `);return{data:r,error:e}}catch(r){return console.error("Erreur lors de la r\xe9cup\xe9ration des stagiaires:",r),{data:null,error:{message:"Erreur de connexion"}}}},async getByUser(r){try{let{data:e,error:t}=await i.from("interns").select(`
          *,
          user:users(*),
          tutor:users!interns_tutor_id_fkey(*)
        `).eq("user_id",r).single();return{data:e,error:t}}catch(r){return console.error("Erreur lors de la r\xe9cup\xe9ration du stagiaire:",r),{data:null,error:{message:"Erreur de connexion"}}}},async create(r){try{let{data:e,error:t}=await i.from("interns").insert(r).select();return{data:e,error:t}}catch(r){return console.error("Erreur lors de la cr\xe9ation du stagiaire:",r),{data:null,error:{message:"Erreur de cr\xe9ation"}}}}},o={async getAll(){try{let{data:r,error:e}=await i.from("requests").select(`
          *,
          intern:interns(
            *,
            user:users(*)
          )
        `).order("created_at",{ascending:!1});return{data:r,error:e}}catch(r){return console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",r),{data:null,error:{message:"Erreur de connexion"}}}},async getByIntern(r){try{let{data:e,error:t}=await i.from("requests").select("*").eq("intern_id",r).order("created_at",{ascending:!1});return{data:e,error:t}}catch(r){return console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",r),{data:null,error:{message:"Erreur de connexion"}}}},async create(r){try{let{data:e,error:t}=await i.from("requests").insert(r).select();return{data:e,error:t}}catch(r){return console.error("Erreur lors de la cr\xe9ation de la demande:",r),{data:null,error:{message:"Erreur de cr\xe9ation"}}}}}},69336:(r,e,t)=>{t.d(e,{t:()=>l});var n=t(88944),s=t(48228),a=t(47814),i=t(60667);let l=(0,n.U)()((0,s.tJ)((r,e)=>({user:null,loading:!1,error:null,signIn:async(e,t)=>{r({loading:!0,error:null});try{let n=await a.authService.signIn(e,t);if(n)return r({user:n,loading:!1}),!0;return r({error:"\xc9chec de la connexion",loading:!1}),!1}catch(e){return r({error:e.message||"Erreur de connexion",loading:!1}),!1}},signOut:async()=>{r({loading:!0});try{await a.authService.signOut(),r({user:null,loading:!1,error:null})}catch(e){r({error:e.message||"Erreur de d\xe9connexion",loading:!1})}},signUp:async(e,t,n,s)=>{r({loading:!0,error:null});try{let i=await a.authService.signUp(e,t,n,s);if(i)return r({user:i,loading:!1}),!0;return r({error:"\xc9chec de l'inscription",loading:!1}),!1}catch(e){return r({error:e.message||"Erreur d'inscription",loading:!1}),!1}},refreshUser:async()=>{let t=e().user;if(t)try{let e=await a.authService.refreshUser(t.id);e&&r({user:e})}catch(r){console.error("Failed to refresh user:",r)}},clearError:()=>r({error:null}),initializeAuth:async()=>{r({loading:!0});try{let e=await a.authService.getSession();if(e?.user){let{data:t}=await i.OQ.from("users").select("*").eq("id",e.user.id).single();t?r({user:t,loading:!1}):r({user:null,loading:!1})}else r({user:null,loading:!1})}catch(e){console.error("Auth initialization error:",e),r({user:null,loading:!1})}}}),{name:"auth-storage",partialize:r=>({user:r.user})}))}};