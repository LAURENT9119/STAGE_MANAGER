"use strict";exports.id=9336,exports.ids=[9336],exports.modules={47814:(r,e,t)=>{t.d(e,{e:()=>a});var s=t(22730);let n=(0,s.createClient)("https://blqzunqikyrwzelsbbzh.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJscXp1bnFpa3lyd3plbHNiYnpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyOTMzMTcsImV4cCI6MjA2Mzg2OTMxN30.QMttUMb_h6zAgFgb2yLD6jMRn9xlhDRsCuP5EPrGYgk");class a{static async signIn(r,e){try{let{data:t,error:s}=await n.auth.signInWithPassword({email:r,password:e});if(s)throw s;return t}catch(r){throw console.error("Sign in error:",r),r}}static async signUp(r,e,t){try{let{data:s,error:a}=await n.auth.signUp({email:r,password:e,options:{data:t}});if(a)throw a;return s}catch(r){throw console.error("Sign up error:",r),r}}static async signOut(){try{let{error:r}=await n.auth.signOut();if(r)throw r}catch(r){throw console.error("Sign out error:",r),r}}static async getCurrentUser(){try{let{data:{user:r}}=await n.auth.getUser();if(!r)return null;let{data:e,error:t}=await n.from("users").select("*").eq("id",r.id).single();if(t)throw t;return{user:r,userData:e}}catch(r){return console.error("Get current user error:",r),null}}static async updateProfile(r,e){try{let{data:t,error:s}=await n.from("users").update(e).eq("id",r).select().single();if(s)throw s;return t}catch(r){throw console.error("Update profile error:",r),r}}static async getSession(){try{let{data:{session:r}}=await n.auth.getSession();return r}catch(r){return console.error("Get session error:",r),null}}static async refreshUser(r){try{let{data:e,error:t}=await n.from("users").select("*").eq("id",r).single();if(t)throw t;return e}catch(r){return console.error("Refresh user error:",r),null}}}},60667:(r,e,t)=>{t.d(e,{oU:()=>o,MJ:()=>l,OQ:()=>i});var s=t(26823);t(47814);let n="https://blqzunqikyrwzelsbbzh.supabase.co",a="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImJscXp1bnFpa3lyd3plbHNiYnpoIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgyOTMzMTcsImV4cCI6MjA2Mzg2OTMxN30.QMttUMb_h6zAgFgb2yLD6jMRn9xlhDRsCuP5EPrGYgk";if(!n||!a)throw Error("Missing Supabase environment variables");let i=(0,s.createBrowserClient)(n,a),o={async getAll(){try{let{data:r,error:e}=await i.from("interns").select(`
          *,
          user:users(*),
          tutor:users!interns_tutor_id_fkey(*)
        `);return{data:r,error:e}}catch(r){return console.error("Erreur lors de la r\xe9cup\xe9ration des stagiaires:",r),{data:null,error:{message:"Erreur de connexion"}}}},async getByUser(r){try{let{data:e,error:t}=await i.from("interns").select(`
          *,
          user:users(*),
          tutor:users!interns_tutor_id_fkey(*)
        `).eq("user_id",r).single();return{data:e,error:t}}catch(r){return console.error("Erreur lors de la r\xe9cup\xe9ration du stagiaire:",r),{data:null,error:{message:"Erreur de connexion"}}}},async create(r){try{let{data:e,error:t}=await i.from("interns").insert(r).select();return{data:e,error:t}}catch(r){return console.error("Erreur lors de la cr\xe9ation du stagiaire:",r),{data:null,error:{message:"Erreur de cr\xe9ation"}}}}},l={async getAll(){try{let{data:r,error:e}=await i.from("requests").select(`
          *,
          intern:interns(
            *,
            user:users(*)
          )
        `).order("created_at",{ascending:!1});return{data:r,error:e}}catch(r){return console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",r),{data:null,error:{message:"Erreur de connexion"}}}},async getByIntern(r){try{let{data:e,error:t}=await i.from("requests").select("*").eq("intern_id",r).order("created_at",{ascending:!1});return{data:e,error:t}}catch(r){return console.error("Erreur lors de la r\xe9cup\xe9ration des demandes:",r),{data:null,error:{message:"Erreur de connexion"}}}},async create(r){try{let{data:e,error:t}=await i.from("requests").insert(r).select();return{data:e,error:t}}catch(r){return console.error("Erreur lors de la cr\xe9ation de la demande:",r),{data:null,error:{message:"Erreur de cr\xe9ation"}}}}}},69336:(r,e,t)=>{t.d(e,{t:()=>o});var s=t(88944),n=t(48228),a=t(47814),i=t(60667);let o=(0,s.U)()((0,n.tJ)((r,e)=>({user:null,loading:!1,error:null,signIn:async(e,t)=>{r({loading:!0,error:null});try{let s=await a.e.signIn(e,t);if(s?.user){let{data:e}=await i.OQ.from("users").select("*").eq("id",s.user.id).single();if(e)return r({user:e,loading:!1}),!0}return r({error:"\xc9chec de la connexion",loading:!1}),!1}catch(e){return r({error:e.message||"Erreur de connexion",loading:!1}),!1}},signOut:async()=>{r({loading:!0});try{await a.e.signOut(),r({user:null,loading:!1,error:null})}catch(e){r({error:e.message||"Erreur de d\xe9connexion",loading:!1})}},signUp:async(e,t,s,n)=>{r({loading:!0,error:null});try{let o=await a.e.signUp(e,t,{full_name:s,role:n});if(o?.user){let{data:e}=await i.OQ.from("users").insert({id:o.user.id,email:o.user.email,full_name:s,role:n}).select().single();if(e)return r({user:e,loading:!1}),!0}return r({error:"\xc9chec de l'inscription",loading:!1}),!1}catch(e){return r({error:e.message||"Erreur d'inscription",loading:!1}),!1}},refreshUser:async()=>{let t=e().user;if(t)try{let e=await a.e.refreshUser(t.id);e&&r({user:e})}catch(r){console.error("Failed to refresh user:",r)}},clearError:()=>r({error:null}),initializeAuth:async()=>{r({loading:!0});try{let e=await a.e.getSession();if(e?.user){let{data:t}=await i.OQ.from("users").select("*").eq("id",e.user.id).single();t?r({user:t,loading:!1}):r({user:null,loading:!1})}else r({user:null,loading:!1})}catch(e){console.error("Auth initialization error:",e),r({user:null,loading:!1})}}}),{name:"auth-storage",partialize:r=>({user:r.user})}))}};